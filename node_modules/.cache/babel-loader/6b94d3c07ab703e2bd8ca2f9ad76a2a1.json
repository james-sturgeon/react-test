{"ast":null,"code":"var _jsxFileName = \"/Users/sturgeoj/Documents/sports-store/src/auth/AuthProviderImpl.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { AuthContext } from \"./AuthContext\";\nimport { authUrl } from \"../data/Urls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AuthProviderImpl extends Component {\n  constructor(props) {\n    super(props);\n\n    this.authenticate = credentials => {\n      return Axios.post(authUrl, credentials).then(response => {\n        if (response.data.success === true) {\n          this.setState({\n            isAuthenticated: true,\n            webToken: response.data.token\n          });\n          return true;\n        } else {\n          throw new Error(\"Invalid Credentials\");\n        }\n      });\n    };\n\n    this.signout = () => {\n      this.setState({\n        isAuthenticated: false,\n        webToken: null\n      });\n    };\n\n    this.render = () => /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: { ...this.state,\n        authenticate: this.authenticate,\n        signout: this.signout\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this);\n\n    this.state = {\n      isAuthenticated: false,\n      webToken: null\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/sturgeoj/Documents/sports-store/src/auth/AuthProviderImpl.js"],"names":["React","Component","Axios","AuthContext","authUrl","AuthProviderImpl","constructor","props","authenticate","credentials","post","then","response","data","success","setState","isAuthenticated","webToken","token","Error","signout","render","state","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,OAAT,QAAwB,cAAxB;;AAEA,OAAO,MAAMC,gBAAN,SAA+BJ,SAA/B,CAAyC;AAC9CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,YARmB,GAQHC,WAAD,IAAiB;AAC9B,aAAOP,KAAK,CAACQ,IAAN,CAAWN,OAAX,EAAoBK,WAApB,EAAiCE,IAAjC,CAAuCC,QAAD,IAAc;AACzD,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,IAA9B,EAAoC;AAClC,eAAKC,QAAL,CAAc;AACZC,YAAAA,eAAe,EAAE,IADL;AAEZC,YAAAA,QAAQ,EAAEL,QAAQ,CAACC,IAAT,CAAcK;AAFZ,WAAd;AAIA,iBAAO,IAAP;AACD,SAND,MAMO;AACL,gBAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACD;AACF,OAVM,CAAP;AAWD,KApBkB;;AAAA,SAsBnBC,OAtBmB,GAsBT,MAAM;AACd,WAAKL,QAAL,CAAc;AACZC,QAAAA,eAAe,EAAE,KADL;AAEZC,QAAAA,QAAQ,EAAE;AAFE,OAAd;AAID,KA3BkB;;AAAA,SA6BnBI,MA7BmB,GA6BV,mBACP,QAAC,WAAD,CAAa,QAAb;AACE,MAAA,KAAK,EAAE,EACL,GAAG,KAAKC,KADH;AAELd,QAAAA,YAAY,EAAE,KAAKA,YAFd;AAGLY,QAAAA,OAAO,EAAE,KAAKA;AAHT,OADT;AAAA,gBAOG,KAAKb,KAAL,CAAWgB;AAPd;AAAA;AAAA;AAAA;AAAA,YA9BiB;;AAEjB,SAAKD,KAAL,GAAa;AACXN,MAAAA,eAAe,EAAE,KADN;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAP6C","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { AuthContext } from \"./AuthContext\";\nimport { authUrl } from \"../data/Urls\";\n\nexport class AuthProviderImpl extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: false,\n      webToken: null,\n    };\n  }\n\n  authenticate = (credentials) => {\n    return Axios.post(authUrl, credentials).then((response) => {\n      if (response.data.success === true) {\n        this.setState({\n          isAuthenticated: true,\n          webToken: response.data.token,\n        });\n        return true;\n      } else {\n        throw new Error(\"Invalid Credentials\");\n      }\n    });\n  };\n\n  signout = () => {\n    this.setState({\n      isAuthenticated: false,\n      webToken: null,\n    });\n  };\n\n  render = () => (\n    <AuthContext.Provider\n      value={{\n        ...this.state,\n        authenticate: this.authenticate,\n        signout: this.signout,\n      }}\n    >\n      {this.props.children}\n    </AuthContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}