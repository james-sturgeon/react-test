{"ast":null,"code":"var _jsxFileName = \"/Users/sturgeoj/Documents/sports-store/src/admin/ProductCreator.js\";\nimport React, { Component } from \"react\";\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\nimport { Mutation } from \"react-apollo\";\nimport { storeProduct, updateProduct } from \"./clientMutations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ProductCreator extends Component {\n  constructor(props) {\n    super(props);\n\n    this.navigate = () => this.props.history.push(\"/admin/products\");\n\n    this.render = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col bg-dark text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"navbar-brand\",\n              children: \"SPORTS STORE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-brand\",\n            children: \"SPORTS STORE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col m-2\",\n            children: /*#__PURE__*/_jsxDEV(Mutation, {\n              mutation: this.mutation,\n              children: (saveMutation, _ref) => {\n                let {\n                  client\n                } = _ref;\n                return /*#__PURE__*/_jsxDEV(ValidatedForm, {\n                  formModel: this.formModel,\n                  defaultAttrs: this.defaultAttrs,\n                  submitCallback: data => {\n                    saveMutation({\n                      variables: {\n                        product: { ...data,\n                          price: Number(data.price)\n                        }\n                      }\n                    });\n\n                    if (this.props.mode !== \"edit\") {\n                      client.resetStore();\n                    }\n\n                    this.navigate();\n                  },\n                  cancelCallback: this.navigate,\n                  submitText: \"Save\",\n                  cancelText: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 19\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.defaultAttrs = {\n      type: \"text\",\n      required: true\n    };\n    this.formModel = [{\n      label: \"Name\"\n    }, {\n      label: \"Description\"\n    }, {\n      label: \"Category\"\n    }, {\n      label: \"Price\",\n      attrs: {\n        type: \"number\"\n      }\n    }];\n    this.mutation = storeProduct;\n\n    if (this.props.mode === \"edit\") {\n      this.mutation = updateProduct;\n      this.formModel = [{\n        label: \"Id\",\n        attrs: {\n          disabled: true\n        }\n      }, ...this.formModel].map(item => ({ ...item,\n        attrs: { ...item.attrs,\n          defaultValue: this.props.product[item.label.toLowerCase()]\n        }\n      }));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/sturgeoj/Documents/sports-store/src/admin/ProductCreator.js"],"names":["React","Component","ValidatedForm","Mutation","storeProduct","updateProduct","ProductCreator","constructor","props","navigate","history","push","render","mutation","saveMutation","client","formModel","defaultAttrs","data","variables","product","price","Number","mode","resetStore","type","required","label","attrs","disabled","map","item","defaultValue","toLowerCase"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\nimport { Mutation } from \"react-apollo\";\nimport { storeProduct, updateProduct } from \"./clientMutations\";\n\nexport class ProductCreator extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultAttrs = { type: \"text\", required: true };\n    this.formModel = [\n      { label: \"Name\" },\n      { label: \"Description\" },\n      { label: \"Category\" },\n      { label: \"Price\", attrs: { type: \"number\" } },\n    ];\n    this.mutation = storeProduct;\n    if (this.props.mode === \"edit\") {\n      this.mutation = updateProduct;\n      this.formModel = [\n        { label: \"Id\", attrs: { disabled: true } },\n        ...this.formModel,\n      ].map((item) => ({\n        ...item,\n        attrs: {\n          ...item.attrs,\n          defaultValue: this.props.product[item.label.toLowerCase()],\n        },\n      }));\n    }\n  }\n\n  navigate = () => this.props.history.push(\"/admin/products\");\n\n  render = () => {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col bg-dark text-white\">\n            <div className=\"navbar-brand\">SPORTS STORE</div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"navbar-brand\">SPORTS STORE</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col m-2\">\n            <Mutation mutation={this.mutation}>\n              {(saveMutation, { client }) => {\n                return (\n                  <ValidatedForm\n                    formModel={this.formModel}\n                    defaultAttrs={this.defaultAttrs}\n                    submitCallback={(data) => {\n                      saveMutation({\n                        variables: {\n                          product: { ...data, price: Number(data.price) },\n                        },\n                      });\n                      if (this.props.mode !== \"edit\") {\n                        client.resetStore();\n                      }\n                      this.navigate();\n                    }}\n                    cancelCallback={this.navigate}\n                    submitText=\"Save\"\n                    cancelText=\"Cancel\"\n                  />\n                );\n              }}\n            </Mutation>\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}